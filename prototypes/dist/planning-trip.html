
<div class="container">
  <section ng-controller="TabController as tab">
    <ul class="nav nav-pills">
      <li ng-class="{ active:tab.isSet(1) }"><a href="" ng-click="tab.setTab(1)">Zaplanuj podróż</a></li>
      <li ng-class="{ active:tab.isSet(2) }"><a href="" ng-click="tab.setTab(2)">Twoje podróże</a></li>
    </ul>
    <div ng-controller="planningController" class="row">
      <div ng-show="tab.isSet(1)" class="div">
        <h2>Zaplanuj podróż</h2>
        <form>
          <div class="form-group">
            <label>Nazwa podróży</label>
            <input ng-model="formname" class="form-control"/>
          </div>
          <div class="form-group">
            <label for="dp1" class="control-label">Wybierz dzień</label>
            <input id="dp1" type="date" ng-model="formday" class="date-picker form-control"/>
          </div>
          <hr/>
          <div class="form-group">
            <label>1. Wybierz przystanek:</label>
            <select name="busstop" ng-model="formstops" class="form-control">
              <option ng-repeat="stop in planStops" value="{{$index}}">{{ stop.name }}</option>
            </select>
          </div>
          <div class="row">
            <h4>Lista autobusów i odjazdów:</h4>
            <div ng-repeat="item in buses" class="lista">
              <div ng-filter="formlines" class="linie">linie: {{item.line}} kierunek: {{item.destination}}</div>
              <div class="godziny">odjazdy:<span ng-repeat="hours in item.departures">{{hours}},</span></div>
            </div>
          </div>
          <div class="form-group">
            <label>2. Wybierz autobus linii :</label>
            <select name="buslines" ng-model="formlines" class="form-control">
              <option ng-repeat="item in buses" value="{{$index}}">{{item.line}} kierunek: {{item.destination}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>3. Wybierz godzinę odjazdu:</label>
            <select ng-model="formhours" placeholder="wybierz godzinę odjazdu" class="form-control">
              <option ng-repeat="hours in lines">{{hours}}</option>
            </select>
          </div>
          <button ng-click="addLine()" class="btn btn-default">Dodaj Etap Podróży</button>
          <hr/>
          <div class="data">data podróży: {{day | date:'dd-MM-yyyy' }}</div>
          <div class="tripname">nazwa: {{tripname}}</div>
          <hr/>
          <div class="row">
            <table class="table table-striped">
              <thead>
                <th>Przystanek:</th>
                <th>Linia:</th>
                <th>Godzina Odjazdu</th>
              </thead>
              <tr ng-repeat="item in planningStage">
                <td>{{item.stops}}</td>
                <td>{{item.lines}}</td>
                <td>{{item.time}}</td>
              </tr>
            </table>
          </div>
          <button ng-click="saveTrip()" class="btn btn-default">Zapisz podróż</button>
        </form>
      </div>
      <div ng-show="tab.isSet(2)" class="div">
        <h2>Twoje podróże</h2>
        <div ng-controller="getTripController as gettrip" class="row">
          <table class="table table-striped">
            <thead>
              <th>Przystanek:</th>
              <th>Linia:</th>
              <th>Godzina Odjazdu</th>
            </thead>
            <tr ng-repeat="item in todos">
              <td>{{item.stops}}</td>
              <td>{{item.lines}}</td>
              <td>{{item.time}}</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </section>
</div>